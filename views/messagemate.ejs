<% layout("/layouts/boilerplate") %>
<script src="https://kit.fontawesome.com/c08dd9d55a.js" crossorigin="anonymous"></script>
<style>
body {
    margin: 0;
    padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.wrapper {
    width: 100%;
    min-height: 100vh;
    background-color: #f0f0f0;
}

.head {
    background-color: #128c7e;
    color: white;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.upper {
    display: flex;
}

.logo {
    font-size: 2rem;
   
    margin-right: auto;
}

.threedots {
    font-size: 1.5rem;
    margin-right: 1rem;
    cursor: pointer;
}

.navdro {
    display: flex;
    background-color: #075e54;
}

.grp,
.box,
.contact,
.dp img {
    transition: transform 0.3s ease-in-out;
}

.grp:hover,
.box:hover,
.contact:hover,
.dp img:hover {
    transform: scale(1.1);
}

.card {
    margin: 1rem;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    background-color: #fff;
}

.card-body {
    padding: 1rem;
}

.card-title {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
}

.card-text h3 {
    font-size: 1.5rem;
    margin-bottom: 1rem;
}

.btn {
    background-color: #128c7e;
    color: white;
    padding: 0.5rem 1rem;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease-in-out;
}

.btn:hover {
    background-color: #075e54;
}

h1{
    color: #000;
    margin-left: 1%;
}

@media only screen and (max-width: 700px) {
    .wrapper {
        padding: 1rem;
    }

    .logo {
        font-size: 1.5rem;
    }

    .threedots {
        font-size: 1rem;
    }

    .box {
        width: auto;
        margin: 1rem;
    }

    .info {
        width: 100%;
    }

    .msg {
        width: 100%;
    }
}

@media only screen and (max-width: 480px) {
    .logo {
        font-size: 1.2rem;
    }

    .threedots {
        font-size: 0.8rem;
    }

    .box {
        width: auto;
        margin: 1rem;
    }

    .info {
        width: 100%;
    }

    .msg {
        width: 100%;
    }
}
</style>

<body>
    <div class="wrapper">
        <div class="head">
            <div class="upper">
                <div class="logo">MessageMate</div>
                
            </div>
            <script>
                function navigateToSelectedOption() {
                    var selectElement = document.getElementById("chatOptions");
                    var selectedValue = selectElement.value;
            
                    // Redirect based on the selected option
                    if (selectedValue === "1") {
                        window.location.href = "/chats";
                    } else if (selectedValue === "2") {
                        window.location.href="/chats/new";
                    } else if (selectedValue === "3") {
                        window.location.href = "";
                    }
                }
            </script>
            
            <!-- Your HTML code with the modified select element -->
            <select id="chatOptions" class="form-select form-select-lg mb-3" aria-label="Large select example" onchange="navigateToSelectedOption()">
                <option selected>Chats</option>
                <option value="1">Chats</option>
                <option value="2">New Chat</option>
                <option value="3">Group Chat</option>
            </select>
            
        </div>

        <h1>All Chats!..</h1>
        <% for(let chat of chats){ %>
        <div class="card" style="max-width: 1000px;">
            <div class="card-body">
                <h5 class="card-title"><b>From : </b><i><%= chat.from %></i></h5>
                <p class="card-text"> <h3><%= chat.message %></h3></p>
                <form method="get" action="/chats/<%= chat._id %>/edit" style="display: inline-block; margin-right: 10px;">
                    <button class="btn">Edit</button>
                </form>
                <form method="POST" action="/chats/<%= chat._id %>?_method=DELETE" style="display: inline-block;">
                    <button class="btn">Delete</button>
                </form>
                
                <h5><b>Received By :</b> <i><%= chat.to %></i></h5>
                <p class="card-text"><small class="text-body-secondary">Last updated 3 mins ago</small></p>
            </div>
        </div>
        <% } %>
    </div>
</body>

</html>
